{% extends 'base.html' %}

{% block content %}
<nav class="bg-blue-600 p-4">
    <div class="max-w-7xl mx-auto flex justify-between items-center">
        <h1 class="text-white text-2xl font-bold">ArtSonix</h1>
        <ul class="flex space-x-4">
            <li><a href="/" class="text-white hover:underline">Home</a></li>
            <li><a href="/about" class="text-white hover:underline">About</a></li>
            <li><a href="#" class="text-white hover:underline">Contact</a></li>
        </ul>
    </div>
</nav>

<header class="text-center py-10">
    <h2 class="text-3xl font-bold text-gray-800">Welcome to ArtSonix!</h2>
</header>

<div class="flex items-center justify-center py-10">
    <div class="max-w-4xl w-full mx-auto p-6 bg-white shadow-lg rounded-2xl">
        <h1 class="text-2xl font-bold text-gray-800">Discover Music Through Art</h1>
        
        <form id="user-form" class="mt-4" action="/results" method="get">
            
            <!-- ðŸ“Œ Form Legend -->
            <fieldset class="border border-gray-300 p-4 rounded-lg">
                <legend class="text-lg font-bold text-gray-800">Find Your Music Match</legend>

                <!-- ðŸŽ­ Mood Selection (Multi-Select Limit: 3) -->
                <p class="block text-gray-600 mt-2">Select up to 3 moods:</p>
                <div class="grid grid-cols-2 gap-2 mt-2">
                    {% for mood in ["Inspired", "Creative", "Calm", "Energetic", "Adventurous", "Happy", "Sad", "Romantic", "Focused", "Upbeat", "Rebellious", "Dark", "Nostalgic", "Trippy", "Party", "Epic", "Quirky", "Emotional"] %}
                        <label class="flex items-center">
                            <input type="checkbox" name="moods" value="{{ mood }}" class="mood-checkbox">
                            <span class="ml-2">{{ mood }}</span>
                        </label>
                    {% endfor %}
                </div>

                <!-- ðŸ” Search Query (Optional) -->
                <p class="block text-gray-600 mt-4">Or enter a specific search query:</p>
                <input type="text" id="search-query" name="query"
                    class="w-full p-2 border rounded-lg mt-2"
                    placeholder="Enter artist, album, playlist, or song (optional)">

                <!-- ðŸŽµ Media Type Selection (Radio Buttons) -->
                <p class="block text-gray-600 mt-4">Choose what you want to search for:</p>
                <div class="grid grid-cols-2 gap-2 mt-2">
                    {% for media in ["Playlist", "Album", "Artist", "Track", "Iâ€™m open to anything"] %}
                        <label class="flex items-center">
                            <input type="radio" name="rec_type" value="{{ media.lower() }}" required>
                            <span class="ml-2">{{ media }}</span>
                        </label>
                    {% endfor %}
                </div>
            </fieldset>

            <!-- ðŸŽ¯ Submit Button -->
            <button type="submit" class="mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 w-full">
                Find Music
            </button>

        </form>
    </div>
</div>

<script>
    // ðŸ›‘ Limit mood selection to 3
    document.querySelectorAll('.mood-checkbox').forEach(checkbox => {
        checkbox.addEventListener('change', function () {
            let checkedBoxes = document.querySelectorAll('.mood-checkbox:checked');
            if (checkedBoxes.length > 3) {
                this.checked = false;
                alert("You can only select up to 3 moods.");
            }
        });
    });
</script>

{% endblock %}