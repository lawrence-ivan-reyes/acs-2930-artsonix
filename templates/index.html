{% extends 'base.html' %}

{% block content %}
<body class="bg-gray-100">
    <nav class="bg-blue-600 p-4">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <h1 class="text-white text-2xl font-bold">ArtSonix</h1>
            <ul class="flex space-x-4">
                <li><a href="#" class="text-white hover:underline">Home</a></li>
                <li><a href="#" class="text-white hover:underline">About</a></li>
                <li><a href="#" class="text-white hover:underline">Contact</a></li>
            </ul>
        </div>
    </nav>
    <header class="text-center py-10">
        <h2 class="text-3xl font-bold text-gray-800">Welcome to ArtSonix!</h2>
    </header>
    <div class="flex items-center justify-center h-screen">
        <div class="max-w-lg mx-auto p-6 bg-white shadow-lg rounded-2xl">
            <h1 class="text-2xl font-bold text-gray-800">Discover Music Through Art</h1>
            <form id="user-form" class="mt-4">
                <label class="block text-gray-600">Favorite Music Genre:</label>
                <input type="text" id="music-genre" name="music_genre" placeholder="e.g. Hip-Hop, Jazz" class="w-full p-2 border rounded-lg">

                <label class="block text-gray-600 mt-2">Favorite Art Style:</label>
                <input type="text" id="art-style" name="art_style" placeholder="e.g. Impressionism, Abstract" class="w-full p-2 border rounded-lg">

                <button type="submit" class="mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600">
                    Get Recommendations
                </button>
            </form>
        </div>
    </div>
    <script>
        document.getElementById("user-form").addEventListener("submit", function(event) {
            event.preventDefault();
            let genre = document.getElementById("music-genre").value;
            let style = document.getElementById("art-style").value;

            fetch('/submit', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ music_genre: genre, art_style: style })
            })
            .then(response => {
                if (response.redirected) {
                    window.location.href = response.url;
                }
            })
            .catch(error => console.error("Error:", error));
        });
    </script>
</body>
{% endblock %}
