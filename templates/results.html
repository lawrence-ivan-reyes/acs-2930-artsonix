{% extends 'base.html' %}

{% block content %}
<body class="bg-gray-100">
    <nav class="bg-blue-600 p-4">
        <div class="max-w-7xl mx-auto flex justify-between items-center">
            <h1 class="text-white text-2xl font-bold">ArtSonix</h1>
            <ul class="flex space-x-4">
                <li><a href="/" class="text-white hover:underline">Home</a></li>
                <li><a href="#" class="text-white hover:underline">About</a></li>
                <li><a href="#" class="text-white hover:underline">Contact</a></li>
            </ul>
        </div>
    </nav>
    <header class="text-center py-10">
        <h2 class="text-3xl font-bold text-gray-800">Your Personalized Recommendations</h2>
    </header>
    <div class="flex items-center justify-center">
        <div class="max-w-lg mx-auto p-6 bg-white shadow-lg rounded-2xl">
            <h1 class="text-2xl font-bold text-gray-800">Music Recommendations</h1>
            <ul id="music-results" class="mt-4 list-disc list-inside text-gray-600"></ul>

            <h1 class="text-2xl font-bold text-gray-800 mt-6">Artwork Recommendations</h1>
            <div id="art-results" class="mt-4"></div>
        </div>
    </div>

    <script>
        // Fetch results from the backend
        fetch('/get-results')
        .then(response => response.json())
        .then(data => {
            let musicResults = document.getElementById("music-results");
            data.music.forEach(song => {
                let li = document.createElement("li");
                li.innerHTML = `<strong>${song.name}</strong> by ${song.artist}`;
                musicResults.appendChild(li);
            });

            let artResults = document.getElementById("art-results");
            data.art.forEach(art => {
                let div = document.createElement("div");
                div.innerHTML = `<p class="font-bold">${art.title}</p>
                                 <p>By ${art.artist}</p>
                                 <img src="${art.image}" alt="${art.title}" class="mt-2 rounded-lg shadow-lg w-full">`;
                artResults.appendChild(div);
            });
        })
        .catch(error => console.error("Error loading results:", error));
    </script>
</body>
{% endblock %}