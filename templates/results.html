{% extends 'base.html' %}
{% block content %}
<body class="bg-gray-100">
    <header class="text-center py-10">
        <h2 class="text-3xl font-bold text-gray-800">Your Personalized Art Recommendations</h2>
    </header>
    <div class="flex items-center justify-center min-h-screen">
        <div class="w-full max-w-5xl mx-auto p-6 bg-gray-100 shadow-lg rounded-2xl">
            <div id="results" class="mt-4">
                <div id="artworks-grid" class="artworks-grid"></div>
            </div>
        </div>
    </div>
    <script>
        // Retrieve the artworks data stored in localStorage
        const artworks = JSON.parse(localStorage.getItem('artworks'));

        // Check if there are artworks to display
        if (artworks && artworks.length) {
            // Populate the artworks-grid with the artwork data
            document.getElementById('artworks-grid').innerHTML = artworks.map(artwork => `
                <div class="artwork-card">
                    <img src="${artwork.primaryImageSmall}" alt="${artwork.title}">
                    <div class="content">
                        <h4>${artwork.title}</h4>
                        ${artwork.artistDisplayName ?
                          `<p><strong>Artist:</strong> ${artwork.artistDisplayName}</p>` :
                          `<p><strong>Artist:</strong> Unknown</p>`
                        }
                        ${artwork.objectDate ?
                          `<p><strong>Object Date:</strong> ${artwork.objectDate}</p>` :
                          `<p><strong>Object Date:</strong> Unknown</p>`
                        }
                        ${artwork.medium ?
                          `<p><strong>Medium:</strong> ${artwork.medium}</p>` :
                          `<p><strong>Medium:</strong> Unknown</p>`
                        }
                    </div>
                </div>
            `).join('');
        } else {
            // Display a message if no artworks are found
            document.getElementById('results').innerHTML = `
                <p class="text-center text-gray-600">No results found for the selected preferences. Please try different preferences.</p>
            `;
        }
    </script>
</body>
{% endblock %}